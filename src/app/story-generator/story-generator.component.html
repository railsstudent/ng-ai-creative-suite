<div class="container">
  <h1 class="main-header">Story Generator</h1>
  <p class="main-header2">Unleash your imagination. Provide a prompt and let AI weave a tale for you.</p>

  <div class="generator-container">
    <app-story-generate-menu-bar
      [(prompt)]="prompt"
      [(storyLength)]="length"
      [(genre)]="genre"
      [storyLengthOptions]="storyLengthOptions"
      [genreOptions]="genreOptions"
      (generateStory)="generateStory()"
    />
  </div>

  <app-prompt-history
    [history]="promptHistory()"
    (promptSelected)="prompt.set($event)"
    (historyCleared)="clearHistory()"
  />

  <app-error-display [error]="error()" />

  @if (isLoading()) {
    <div class="mt-6">
      <app-loader loadingText="Generating your story...">
        <p class="text-sm">This may take a moment.</p>
      </app-loader>
    </div>
  } @else if (storyChunk()) {
    <div class="mt-6 story-padding">
      <h2 class="text-2xl font-bold text-indigo-400 mb-4">Your Story</h2>
      <div class="prose prose-invert max-w-none text-gray-300 whitespace-pre-wrap" #storyHolder></div>
    </div>
  }
</div>
